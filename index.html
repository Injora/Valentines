<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/assets/heart.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Allura&family=Bebas+Neue&family=Bodoni+Moda:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=MedievalSharp&family=Momo+Signature&family=Noto+Serif+JP:wght@200..900&family=Oswald:wght@200..700&family=Playwrite+CZ:wght@100..400&family=Roboto+Slab:wght@100..900&display=swap"
        rel="stylesheet">
    <title>Valentines</title>
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #F2A1B3;
        border: 20px solid #C2185B;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 97vh;
    }

    #letter {
        position: fixed;
        inset: 0;
        background-color: #F2A1B3;
        border: 20px solid #C2185B;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: "Allura", cursive;
        color: #880E4F;
        text-align: center;
        cursor: pointer;
        z-index: 69;
    }

    #letter h2 {
        font-size: 60px;
        margin: 0 0 20px 0;
    }

    #letter p {
        font-size: 68px;
        margin: 6px 0;
    }

    #letter {
        animation: float 2s ease-in-out infinite;
    }

    .envelope {
        width: 260px;
        height: 180px;
        position: relative;
        background: #C2185B;
        cursor: pointer;
        z-index: 1;
        animation: shake 1.2s infinite ease-in-out;

        overflow: hidden;
    }


    .envelope::before,
    .envelope::after {
        content: "";
        position: absolute;
        width: 0;
        height: 0;
        border-style: solid;
    }

    .envelope::before {
        border-width: 90px 130px 0 130px;
        border-color: #D81B60 transparent transparent transparent;
        top: 0;
        left: 0;
        z-index: 4;
    }

    .envelope::after {
        border-width: 0 130px 90px 130px;
        border-color: transparent transparent #AD1457 transparent;
        bottom: 0;
        left: 0;
        z-index: 1;
    }

    .flap {
        position: absolute;
        top: 0;
        left: 0;
        width: 0;
        height: 0;

        border-width: 90px 130px 0 130px;
        border-style: solid;
        border-color: #E91E63 transparent transparent transparent;

        transform-origin: top;
        transition: transform 0.8s ease;

        z-index: 5;
    }

    .envelope,
    .envelope::before,
    .envelope::after,
    .flap {
        opacity: 1;
        backface-visibility: hidden;
    }

    .paper {
        position: absolute;
        bottom: -90px;
        left: 12px;

        width: 236px;
        height: 140px;

        background: white;
        border-radius: 6px;
        overflow: hidden;

        opacity: 0;
        visibility: hidden;
        transform: translateY(0);
        transition:
            transform 0.8s ease,
            opacity 0.2s ease;

        z-index: 3;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    }




    .paper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    #letter.open .flap {
        transform: rotateX(180deg);
    }

    #letter.open .paper {
        opacity: 1;
        visibility: visible;

        transform: translateY(-100px);
        z-index: 6;
    }





    #letter.zoom {
        background-color: #F2A1B3;
    }

    #letter.zoom .paper {
        position: fixed;
        top: 50%;
        left: 50%;

        transform: translate(-50%, -50%) scale(8);
        z-index: 20;
    }



    #letter.zoom .envelope {
        opacity: 0;
        transition: opacity 0.4s ease 0.2s;
    }




    #letter.zoom .envelope::before,
    #letter.zoom .envelope::after,
    #letter.zoom .flap {
        opacity: 0;
        transition: opacity 0.4s ease;
    }

    #letter.open .envelope {
        animation: none;
    }


    #letter.open #parent {
        opacity: 1;
        transform: translateX(-50%) translateY(-140px);
        scale: 0.35;
    }

    #letter.zoom #parent {
        transform: translate(-50%, -50%);
        scale: 1;
    }

    #letter.zoom~#parent {
        opacity: 1;
        scale: 1;
        pointer-events: auto;
    }




    #parent {
        position: fixed;
        inset: 0;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        background-color: #F2A1B3;
        border: 20px solid #C2185B;

        opacity: 0;
        scale: 0.95;
        pointer-events: none;

        transition: opacity 0.6s ease, scale 0.6s ease;
    }


    .img-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        margin-bottom: 30px;
    }

    .img-wrap img {
        width: 200px;
    }

    .text {
        color: #880E4F;
        font-size: 68px;
        font-weight: bold;
        text-align: center;
        max-width: 80%;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);
        animation: float 2s ease-in-out infinite;
        font-family: "Allura", cursive;
    }

    .tap-text {
        margin-bottom: 24px;
        text-align: center;
        font-family: "Allura", cursive;
        color: #880E4F;
        animation: float 2s ease-in-out infinite;
        pointer-events: none;
    }

    .tap-text {
        font-size: 88px;
    }

    .tap-text span {
        display: block;
        font-size: 68px;
        opacity: 0.85;
        margin-top: 6px;
        letter-spacing: 1px;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.6);
    }

    #letter.open .tap-text {
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.4s ease, transform 0.4s ease;
    }


    #btpar {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20vw;

    }

    .button {
        color: white;
        font-size: 30px;
        height: 10vh;
        width: 10vw;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
    }

    #yes {
        background-color: #D81B60;
        font-family: 'Allura', cursive;
        height: 10vh;
        width: 10vw;
        position: relative;
        z-index: 10;
    }


    #yes:hover {
        border: 5px solid white;
    }

    #no {
        background-color: #880E4F;
        font-family: "Allura", cursive;
        height: 10vh;
        width: 10vw;
        position: relative;
        z-index: 1;
    }

    #no:hover {
        border: 5px solid white;
    }

    .glow-cat {
        width: 200px;
        animation: pinkGlow 2s ease-in-out infinite;
    }

    @keyframes pinkGlow {
        0% {
            filter:
                drop-shadow(0 0 4px rgba(255, 105, 180, 0.4)) drop-shadow(0 0 8px rgba(255, 105, 180, 0.3));
        }

        50% {
            filter:
                drop-shadow(0 0 10px rgba(255, 105, 180, 0.8)) drop-shadow(0 0 18px rgba(255, 20, 147, 0.7)) drop-shadow(0 0 28px rgba(255, 20, 147, 0.5));
        }

        100% {
            filter:
                drop-shadow(0 0 4px rgba(255, 105, 180, 0.4)) drop-shadow(0 0 8px rgba(255, 105, 180, 0.3));
        }
    }


    @keyframes dhadak {
        0% {
            border: 10px solid rgb(214, 81, 81);
        }

        25% {
            border: 15px solid rgb(214, 81, 81);
        }

        50% {
            border: 20px solid rgb(214, 81, 81);
        }

        75% {
            border: 15px solid rgb(214, 81, 81);
        }

        100% {
            border: 10px solid rgb(214, 81, 81);
        }
    }

    @keyframes float {
        0% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-6px);
        }

        100% {
            transform: translateY(0);
        }
    }

    @keyframes shake {

        0%,
        100% {
            transform: rotate(0deg);
        }

        25% {
            transform: rotate(-2deg);
        }

        50% {
            transform: rotate(2deg);
        }

        75% {
            transform: rotate(-1deg);
        }
    }

    @media (max-width: 768px) {

        body {
            border-width: 10px;
            height: 100vh;
        }

        #letter {
            border-width: 10px;
            padding: 20px;
        }

        .tap-text {
            font-size: 42px;
            margin-bottom: 16px;
        }

        .tap-text span {
            font-size: 24px;
        }

        .envelope {
            width: 200px;
            height: 140px;
        }

        .envelope::before {
            border-width: 70px 100px 0 100px;
        }

        .envelope::after {
            border-width: 0 100px 70px 100px;
        }

        .flap {
            border-width: 70px 100px 0 100px;
        }

        .paper {
            width: 180px;
            height: 110px;
            left: 10px;
            bottom: -70px;
        }

        #letter.zoom .paper {
            transform: translate(-50%, -50%) scale(4);
        }

        .text {
            font-size: 32px;
            max-width: 90%;
        }

        .img-wrap img {
            width: 150px;
        }

        #btpar {
            gap: 24px;
        }

        .button {
            width: 70vw;
            height: 60px;
            font-size: 26px;
        }
    }
</style>

<body>
    <div id="letter">
        <div class="tap-text">
            can i ask u something? <br>
            <span>tap to open</span>
        </div>

        <div class="envelope">
            <div class="flap"></div>
            <div class="paper">
                <img src="assets/page-preview.png" alt="preview">
            </div>


        </div>
    </div>

    <audio id="bg-music" src="/assets/song.mp3" loop></audio>
    <div id="parent">
        <div class="img-wrap">
            <div class="text">
                Pookie, will you please be my valentine?
            </div>
            <img src="https://cdn-icons-png.flaticon.com/256/10443/10443856.png" alt="cat" class="glow-cat">
        </div>

        <div id="btpar">
            <div class="button" id="yes">
                Yes
            </div>
            <div class="button" id="no">
                No
            </div>
        </div>
    </div>

    <script>
        const letter = document.getElementById("letter");
        const music = document.getElementById("bg-music");
        const nobtn = document.getElementById("no");
        const yesBtn = document.getElementById("yes");
        const parent = document.getElementById("parent");

        letter.addEventListener("click", () => {
            if (letter.classList.contains("open")) return;

            letter.classList.add("open");

            setTimeout(() => {
                letter.classList.add("zoom");
            }, 900);

            setTimeout(() => {
                parent.style.opacity = 1;
                parent.style.scale = 1;
                parent.style.pointerEvents = "auto";

                letter.style.opacity = "0";
                letter.style.pointerEvents = "none";

                music.volume = 0.5;
                music.play().catch(() => { });
            }, 1600);
        });





        let count = 0
        document.body.addEventListener("click", () => {
            music.play();
        }, { once: true });

        yesBtn.addEventListener("click", () => {
            window.location.href = "yay.html";
        });
        let posX = 0;
        let posY = 0;
        nobtn.style.position = "relative";
        nobtn.style.transition = "transform 0.2s ease";
        function dodgeNoButton() {
            count++;

            const scale = 1 + count * 0.15;
            yesBtn.style.transform = "scale(1)";
            requestAnimationFrame(() => {
                yesBtn.style.transform = `scale(${scale})`;
            });

            const step = 8 + Math.random() * 8;
            let dx = (Math.random() > 0.5 ? 1 : -1) * step;
            let dy = (Math.random() > 0.5 ? 1 : -1) * step;

            const MIN_X = -40;
            const MAX_X = 40;
            const MIN_Y = -25;
            const MAX_Y = 25;

            let nextX = posX + dx;
            let nextY = posY + dy;
            if (nextX < MIN_X || nextX > MAX_X) dx *= -1;
            if (nextY < MIN_Y || nextY > MAX_Y) dy *= -1;

            posX += dx;
            posY += dy;

            nobtn.style.transform = `translate(${posX}vw, ${posY}vh)`;
        }
        nobtn.addEventListener("mouseover", dodgeNoButton);
        nobtn.addEventListener("touchstart", (e) => {
            e.preventDefault();
            dodgeNoButton();
        });



    </script>
</body>

</html>